TODOs, in random order:
=======================

- Documentation (yeah, yeah...)

- feature: don't bind to 0.0.0.0 address, but only to inbound/outbound IF's
  (defined by IFNAME)

- Georg Schwarz (1.Jan 2003)
  Ein weiteres Problem ist, daß sich z.B. das Siemens-Phone (wenn man 202
  als Telephonnummer einstellt) immer als 202@192.168.0.1 anmeldet beim
  Proxy (da ihm gesagt worden ist, daß der Proxy auf 192.168.0.1 läuft und
  es nicht weiß, daß dieser "von außen" unter einer anderen IP/FQDN
  zusätzlich erreichbar ist).
  Anrufe an 202@gate.geos.net.eu.org von außen werden daher nicht
  durchgestellt. Hier sollte siproxd vielleicht erkennen, daß URIs mit der
  lokalen Interface IP äquivalent sind, bzw. man sollte dieses Verhalten
  ggfs. konfigurieren können (z.B. durch die Möglichkeit zur Angabe
  mehrerer äquivalenter "Domainnamen").

  ->
  Ich könnte mir ein Feature vorstellen, das z.B. für ein Subnetz
  einen FQDN forciert.

  force_fqdn_net=10.0.0.0/8
  force_fqdn_name=myhost.domain.org.

- fli4l modul

- multiple inbound interfaces

- multiple (audio + video) RTP streams (rewriting and RTP proxying)
  per SIP session

---BUFFER DUMP follows---
  49 4e 56 49 54 45 20 73 69 70 3a 63 67 72 61 68 INVITE sip:cgrah
  61 6d 40 74 77 6f 6c 69 70 73 2d 74 72 61 6e 73 am@twolips-trans
  6c 61 74 69 6f 6e 73 2e 63 6f 2e 75 6b 20 53 49 lations.co.uk SI
  50 2f 32 2e 30 0d 0a 56 69 61 3a 20 53 49 50 2f P/2.0..Via: SIP/
  32 2e 30 2f 55 44 50 20 32 31 37 2e 33 35 2e 39 2.0/UDP 217.35.9
  36 2e 31 31 38 3a 35 30 36 30 3b 62 72 61 6e 63 6.118:5060;branc
  68 3d 36 32 38 30 37 33 32 64 65 63 66 66 35 38 h=6280732decff58
  30 38 63 38 34 31 35 64 35 31 31 66 39 37 62 38 08c8415d511f97b8
  36 63 2e 30 0d 0a 53 65 73 73 69 6f 6e 2d 45 78 6c.0..Session-Ex
  70 69 72 65 73 3a 20 33 36 30 30 0d 0a 46 72 6f pires: 3600..Fro
  6d 3a 20 22 6a 63 6f 72 72 79 22 20 3c 73 69 70 m: "jcorry" <sip
  3a 6a 63 6f 72 72 79 40 32 31 37 2e 33 35 2e 39 :jcorry@217.35.9
  36 2e 31 31 38 3e 3b 74 61 67 3d 64 37 64 37 37 6.118>;tag=d7d77
  65 30 32 2d 61 39 36 61 2d 34 33 30 33 2d 61 37 e02-a96a-4303-a7
  38 65 2d 38 63 62 62 38 33 30 65 37 65 62 66 0d 8e-8cbb830e7ebf.
  0a 54 6f 3a 20 3c 73 69 70 3a 63 67 72 61 68 61 .To: <sip:cgraha
  6d 40 74 77 6f 6c 69 70 73 2d 74 72 61 6e 73 6c m@twolips-transl
  61 74 69 6f 6e 73 2e 63 6f 2e 75 6b 3e 0d 0a 43 ations.co.uk>..C
  61 6c 6c 2d 49 44 3a 20 34 35 63 66 30 35 34 66 all-ID: 45cf054f
  2d 61 36 61 63 2d 34 34 62 38 2d 61 39 66 32 2d -a6ac-44b8-a9f2-
  66 38 63 30 65 39 64 64 64 63 33 37 40 31 39 32 f8c0e9dddc37@192
  2e 31 36 38 2e 30 2e 33 31 0d 0a 43 53 65 71 3a .168.0.31..CSeq:
  20 31 20 49 4e 56 49 54 45 0d 0a 43 6f 6e 74 61  1 INVITE..Conta
  63 74 3a 20 3c 73 69 70 3a 34 54 6e 6d 76 66 59 ct: <sip:4TnmvfY
  45 50 54 59 4a 4d 42 4e 49 69 5a 43 35 30 46 4e EPTYJMBNIiZC50FN
  79 35 73 30 44 54 2b 37 6b 41 39 6e 63 58 2b 76 y5s0DT+7kA9ncX+v
  44 4b 74 36 30 54 6b 59 33 37 67 79 67 68 57 6c DKt60TkY37gyghWl
  4f 5a 5a 69 78 4e 36 6c 4a 40 32 31 37 2e 33 35 OZZixN6lJ@217.35
  2e 39 36 2e 31 31 38 3e 0d 0a 55 73 65 72 2d 41 .96.118>..User-A
  67 65 6e 74 3a 20 57 69 6e 64 6f 77 73 20 52 54 gent: Windows RT
  43 2f 31 2e 30 0d 0a 43 6f 6e 74 65 6e 74 2d 54 C/1.0..Content-T
  79 70 65 3a 20 61 70 70 6c 69 63 61 74 69 6f 6e ype: application
  2f 73 64 70 0d 0a 43 6f 6e 74 65 6e 74 2d 4c 65 /sdp..Content-Le
  6e 67 74 68 3a 20 35 34 33 0d 0a 0d 0a 76 3d 30 ngth: 543....v=0
  0d 0a 6f 3d 6a 6f 68 6e 73 70 63 20 30 20 30 20 ..o=johnspc 0 0 
  49 4e 20 49 50 34 20 32 31 37 2e 33 35 2e 39 36 IN IP4 217.35.96
  2e 31 31 38 0d 0a 73 3d 73 65 73 73 69 6f 6e 0d .118..s=session.
  0a 63 3d 49 4e 20 49 50 34 20 32 31 37 2e 33 35 .c=IN IP4 217.35
  2e 39 36 2e 31 31 38 0d 0a 62 3d 43 54 3a 31 30 .96.118..b=CT:10
  30 30 0d 0a 74 3d 30 20 30 0d 0a 6d 3d 61 75 64 00..t=0 0..m=aud
  69 6f 20 33 39 39 32 36 20 52 54 50 2f 41 56 50 io 39926 RTP/AVP
  20 39 37 20 31 31 31 20 31 31 32 20 36 20 30 20  97 111 112 6 0 
  38 20 34 20 35 20 33 20 31 30 31 0d 0a 61 3d 73 8 4 5 3 101..a=s
  65 6e 64 6f 6e 6c 79 0d 0a 61 3d 72 74 70 6d 61 endonly..a=rtpma
  70 3a 39 37 20 72 65 64 2f 38 30 30 30 0d 0a 61 p:97 red/8000..a
  3d 72 74 70 6d 61 70 3a 31 31 31 20 53 49 52 45 =rtpmap:111 SIRE
  4e 2f 31 36 30 30 30 0d 0a 61 3d 66 6d 74 70 3a N/16000..a=fmtp:
  31 31 31 20 62 69 74 72 61 74 65 3d 31 36 30 30 111 bitrate=1600
  30 0d 0a 61 3d 72 74 70 6d 61 70 3a 31 31 32 20 0..a=rtpmap:112 
  47 37 32 32 31 2f 31 36 30 30 30 0d 0a 61 3d 66 G7221/16000..a=f
  6d 74 70 3a 31 31 32 20 62 69 74 72 61 74 65 3d mtp:112 bitrate=
  32 34 30 30 30 0d 0a 61 3d 72 74 70 6d 61 70 3a 24000..a=rtpmap:
  36 20 44 56 49 34 2f 31 36 30 30 30 0d 0a 61 3d 6 DVI4/16000..a=
  72 74 70 6d 61 70 3a 30 20 50 43 4d 55 2f 38 30 rtpmap:0 PCMU/80
  30 30 0d 0a 61 3d 72 74 70 6d 61 70 3a 38 20 50 00..a=rtpmap:8 P
  43 4d 41 2f 38 30 30 30 0d 0a 61 3d 72 74 70 6d CMA/8000..a=rtpm
  61 70 3a 34 20 47 37 32 33 2f 38 30 30 30 0d 0a ap:4 G723/8000..
  61 3d 72 74 70 6d 61 70 3a 35 20 44 56 49 34 2f a=rtpmap:5 DVI4/
  38 30 30 30 0d 0a 61 3d 72 74 70 6d 61 70 3a 33 8000..a=rtpmap:3
  20 47 53 4d 2f 38 30 30 30 0d 0a 61 3d 72 74 70  GSM/8000..a=rtp
  6d 61 70 3a 31 30 31 20 74 65 6c 65 70 68 6f 6e map:101 telephon
  65 2d 65 76 65 6e 74 2f 38 30 30 30 0d 0a 61 3d e-event/8000..a=
  66 6d 74 70 3a 31 30 31 20 30 2d 31 36 0d 0a 6d fmtp:101 0-16..m
  3d 76 69 64 65 6f 20 33 37 30 30 32 20 52 54 50 =video 37002 RTP
---end of BUFFER DUMP---
11:21:35 ERROR:siproxd.c:210 msg_parse() failed... this is not good

  v=0
  o=johnspc 0 0 IN IP4 217.35.96.118
  s=session
  c=IN IP4 217.35.96.118
  b=CT:10
  t=0 0
  m=audio 39926 RTP/AVP 97 111 112 6 0 8 4 5 3 101
  a=sendonly
  a=rtpmap:97 red/8000
  a=rtpmap:111 SIREN/16000
  a=fmtp:111 bitrate=16000
  a=rtpmap:112 G7221/16000
  a=fmtp:112 bitrate=24000
  a=rtpmap:6 DVI4/16000
  a=rtpmap:0 PCMU/8000
  a=rtpmap:8 PCMA/8000
  a=rtpmap:4 G723/8000
  a=rtpmap:5 DVI4/8000
  a=rtpmap:3 GSM/8000
  a=rtpmap:101 telephone-event/8000
  a=fmtp:101 0-16
  m=video 37002 RTP

- automatized CVS snapshot beamed to siproxd homepage (siproxd.sourceforge.net)

- general security issues
- security tests for received SIP messages (function securitycheck)

- automagically create a proper config file during install

- get_ip_by_host: reduce DNS timeouts (seems to be a more complex problem...)

- (support for "full duplex" RTP proxying) 

- portability to other platforms / operating systems
  first goal: other Unixes (porting to FreeBSD is queued)

- via loop detection: send 482 error code

- support Record-Route header

- BUFFER DUMP FOLLOWS - insert DEBUG before, with more info about content
  (from/to, len, etc)
